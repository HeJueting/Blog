### 为什么需要构建工具？

-   转换 ES6 语法

-   转换 JSX

-   CSS 前缀补全/预处理器

-   资源压缩

-   图片压缩

</br>
</br>

### 构建工具演变历史

1. 本地写好代码，通过各种在线压缩工具，将前端文件压缩处理后，再拷贝到本地

2. 使用 ant + YUI 工具，在本地对 css、js 进行直接压缩处理

3. 模块化概念出现，使用 grunt 进行构建，它会将整个构建过程分为一个一个的任务，然后去执行（解析 html、css、js、代码压缩、图片压缩……），每个任务处理完成会将处理结果存储在本地磁盘中，这样的 IO 操作就会导致构建时间过长的问题

4. gulp 的构建过程与 grunt 类似，但是 gulp 不会将处理完成的任务写入磁盘中，而是直接存放到内存中，再下一个任务执行的时候，可以直接从内存中读取上一个任务的结果，加快了打包的速度

</br>
</br>

### webpack 的优势

-   社区生态丰富（官方维护的插件丰富）

-   配置灵活

-   官方更新迭代速度快

</br>
</br>

### webpack 基本构成

-   entry：打包入口文件

-   output：打包的输出地址

-   mode：指定环境

-   module：lodaer 文件解析，Webpack 只支持 js 和 json 两种文件类型，其他文件类型需要通过 loaders 去进行转化

-   plugins：插件，用于打包文件的优化，资源管理和环境变量的注入，作用于整个构建过程

</br>
</br>

### module chunk bundle 的概念

-   module：webpack 中一切皆模块

-   chunk：多个模块的一个集合，例如：entry、import

-   bundle：最终打包的结果

</br>
</br>

### tree shaking（摇树优化）

它是 webpack 的一种优化策略。对于一个包中，使用了 ES6 的 moudle 语法，没有使用到的方法（没有副作用），不会打包进入 bundle 中：

1. 代码不会被执行，不可到达

2. 代码执行的结果不会被用到

3. 代码只会影响死变量（只写不读）

原理：

1. ES6 模块的特点，只能作为模块顶层的语句出现
2. import 的模块名只能是字符串常量
3. import 的常量是不可被篡改的
4. 利用这三个特性，就可以做到将没有使用的方法不打包进入 bundle.js
